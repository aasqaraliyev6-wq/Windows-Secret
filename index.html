<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚ö° QUANTUM ULTIMATE COMMAND CENTER</title>
    <style>
        /* AVVALGI STILLAR... */
        
        /* PAROL TIZIMI STILLARI */
        .password-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .password-content {
            background: var(--darker-bg);
            border: 3px solid var(--hacker-red);
            border-radius: 15px;
            padding: 30px;
            max-width: 400px;
            width: 90%;
            box-shadow: 0 0 50px rgba(255, 0, 51, 0.5);
            text-align: center;
        }

        .password-input {
            width: 100%;
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid var(--matrix-green);
            border-radius: 8px;
            padding: 15px;
            color: var(--matrix-green);
            font-size: 16px;
            margin: 20px 0;
            text-align: center;
            letter-spacing: 3px;
        }

        .password-input:focus {
            box-shadow: 0 0 15px var(--matrix-green);
            outline: none;
        }

        .attempts-counter {
            color: var(--hacker-red);
            font-size: 14px;
            margin: 10px 0;
        }

        .access-denied {
            border-color: var(--hacker-red);
            background: rgba(255, 0, 51, 0.1);
        }

        .access-granted {
            border-color: var(--matrix-green);
            background: rgba(0, 255, 65, 0.1);
        }

        .security-alert {
            color: var(--hacker-red);
            font-size: 12px;
            margin-top: 10px;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
    </style>
</head>
<body>
    <div class="cyber-grid"></div>
    <div class="quantum-field"></div>
    <div class="scan-line"></div>

    <!-- PAROL TEKSHIRISH MODALI -->
    <div class="password-modal" id="passwordModal">
        <div class="password-content">
            <div class="panel-header" style="justify-content: center;">
                <h2>üõ°Ô∏è XAVFSIZLIK TEKSHIRISH</h2>
            </div>
            
            <div class="security-alert" id="securityAlert">
                ‚ö†Ô∏è MAXFIY KODLARGA KIRISH UCHUN PAROL TALAB QILINADI
            </div>

            <div class="attempts-counter" id="attemptsCounter">
                Urinishlar: 0/3
            </div>

            <input type="password" class="password-input" id="securityPassword" 
                   placeholder="Maxfiy parolni kiriting..." maxlength="20"
                   onkeypress="handlePasswordEnter(event)">

            <div style="display: flex; gap: 10px; justify-content: center;">
                <button class="btn-quantum" onclick="checkSecurityPassword()" 
                        style="background: linear-gradient(135deg, #00ff41, #00802b);">
                    üîì Tasdiqlash
                </button>
                <button class="btn-quantum" onclick="closePasswordModal()" 
                        style="background: linear-gradient(135deg, #ff0033, #cc0022);">
                    üö™ Bekor Qilish
                </button>
            </div>

            <div style="margin-top: 15px; font-size: 12px; color: #666;">
                Faqat ruxsat etilgan foydalanuvchilar uchun
            </div>
        </div>
    </div>

    <!-- MAXFIY KODLAR MODALI -->
    <div class="modal" id="secretModal" style="display:none;">
        <!-- Avvalgi maxfiy kodlar modal contenti -->
    </div>

    <!-- ASOSIY TERMINAL -->
    <div class="cyber-terminal">
        <!-- Terminal header va body -->
        
        <!-- MAXFIY KODLAR PANELI -->
        <div class="quantum-panel">
            <div class="panel-header">üîê MAXFIY KODLAR</div>
            <button class="btn-quantum" onclick="requestSecretAccess()" 
                    style="width:100%; margin:5px 0; background:linear-gradient(135deg, #ff0033, #cc0022);">
                üîì Maxfiy Kodlarni Ochish
            </button>
            <div style="font-size:12px; color:#666; text-align:center; margin-top:10px;">
                ‚ö†Ô∏è Kirish uchun maxfiy parol talab qilinadi
            </div>
            <div id="accessStatus" style="font-size:11px; color:#ffff00; text-align:center; margin-top:5px;"></div>
        </div>
    </div>

    <script>
        // XAVFSIZLIK KONFIGURATSIYASI
        const SECURITY_CONFIG = {
            masterPassword: "Asliddin0550", // Sizning shaxsiy parolingiz
            maxAttempts: 3,
            lockoutTime: 30000, // 30 soniya
            allowedIPs: ["192.168.1.1", "127.0.0.1"] // Ruxsat etilgan IP manzillar
        };

        // O'ZGARUVCHILAR
        let securityAttempts = 0;
        let isSecurityLocked = false;
        let currentUnlockFunction = null;

        // PAROL TEKSHIRISH TIZIMI
        function requestSecretAccess() {
            if (isSecurityLocked) {
                showMessage("üö® Tizim vaqtincha qulflandi! " + (SECURITY_CONFIG.lockoutTime/1000) + " soniya kuting.", "error");
                return;
            }

            // Parol modalini ochish
            document.getElementById('passwordModal').style.display = 'flex';
            document.getElementById('securityPassword').value = '';
            document.getElementById('securityPassword').focus();
            document.getElementById('attemptsCounter').textContent = `Urinishlar: ${securityAttempts}/${SECURITY_CONFIG.maxAttempts}`;
            
            // Xavfsizlik ogohlantirishini yangilash
            updateSecurityAlert();
        }

        function checkSecurityPassword() {
            const inputPassword = document.getElementById('securityPassword').value;
            
            if (inputPassword === SECURITY_CONFIG.masterPassword) {
                // PAROL TO'G'RI
                handleSuccessfulAccess();
            } else {
                // PAROL NOTO'G'RI
                handleFailedAttempt();
            }
        }

        function handleSuccessfulAccess() {
            securityAttempts = 0;
            document.getElementById('passwordModal').style.display = 'none';
            document.getElementById('accessStatus').textContent = "‚úÖ Kirish muvaffaqiyatli - " + new Date().toLocaleTimeString();
            document.getElementById('accessStatus').style.color = "#00ff41";
            
            // Maxfiy kodlar modalini ochish
            openSecretModal();
            
            showMessage("üîê MAXFIY KODLARGA KIRISH RUHSAT ETILDI", "success");
        }

        function handleFailedAttempt() {
            securityAttempts++;
            document.getElementById('attemptsCounter').textContent = `Urinishlar: ${securityAttempts}/${SECURITY_CONFIG.maxAttempts}`;
            document.getElementById('attemptsCounter').style.color = "#ff0033";
            
            if (securityAttempts >= SECURITY_CONFIG.maxAttempts) {
                lockSecuritySystem();
                showMessage("üö® MAXIMUM URINISHLAR SONIGA YETILDI! Tizim " + (SECURITY_CONFIG.lockoutTime/1000) + " soniya qulflandi!", "error");
            } else {
                showMessage(`‚ùå Noto'g'ri parol! Qolgan urinishlar: ${SECURITY_CONFIG.maxAttempts - securityAttempts}`, "error");
                document.getElementById('securityPassword').value = '';
                document.getElementById('securityPassword').focus();
            }
        }

        function lockSecuritySystem() {
            isSecurityLocked = true;
            document.getElementById('securityPassword').disabled = true;
            document.getElementById('securityAlert').textContent = "üö® TIZIM VAQTINCHA QULFLANDI!";
            
            setTimeout(() => {
                isSecurityLocked = false;
                securityAttempts = 0;
                document.getElementById('securityPassword').disabled = false;
                document.getElementById('passwordModal').style.display = 'none';
                document.getElementById('accessStatus').textContent = "üîì Tizim qulfi ochildi";
                document.getElementById('accessStatus').style.color = "#ffff00";
                showMessage("üîì Xavfsizlik qulfi ochildi. Qayta urinib ko'ring.", "warning");
            }, SECURITY_CONFIG.lockoutTime);
        }

        function closePasswordModal() {
            document.getElementById('passwordModal').style.display = 'none';
            showMessage("üîí Maxfiy kodlar ochilmadi", "info");
        }

        function handlePasswordEnter(event) {
            if (event.key === 'Enter') {
                checkSecurityPassword();
            }
        }

        function updateSecurityAlert() {
            const alert = document.getElementById('securityAlert');
            const remaining = SECURITY_CONFIG.maxAttempts - securityAttempts;
            
            if (remaining <= 1) {
                alert.style.color = "#ff0033";
                alert.textContent = "üö® Dƒ∞QQAT! Oxirgi urinish!";
            } else if (remaining <= 2) {
                alert.style.color = "#ffff00";
                alert.textContent = "‚ö†Ô∏è Diqqat! Kam urinish qoldi";
            } else {
                alert.style.color = "#00ccff";
                alert.textContent = "üõ°Ô∏è Maxfiy kodlar uchun parol talab qilinadi";
            }
        }

        // YORDAMCHI FUNKSIYALAR
        function showMessage(message, type) {
            addQuantumLog(message, type);
        }

        // AVVALGI FUNKSIYALAR...
        function openSecretModal() {
            document.getElementById('secretModal').style.display = 'flex';
            addQuantumLog("üîê MAXFIY KODLAR BAZASIGA KIRISH RUHSAT ETILDI", "success");
        }

        function closeSecretModal() {
            document.getElementById('secretModal').style.display = 'none';
            addQuantumLog("üö™ Maxfiy kodlar bazasi yopildi", "info");
        }

        function addQuantumLog(message, type = "info") {
            const log = document.getElementById('quantumLog');
            if (!log) return;
            
            const logEntry = document.createElement('div');
            logEntry.className = 'log-entry';
            logEntry.style.color = getColorForType(type);
            logEntry.style.borderLeftColor = getColorForType(type);
            logEntry.textContent = message;
            log.appendChild(logEntry);
            log.scrollTop = log.scrollHeight;
        }

        function getColorForType(type) {
            const colors = {
                'success': '#00ff41', 
                'error': '#ff0033',
                'warning': '#ffff00',
                'info': '#00ccff'
            };
            return colors[type] || '#00ff41';
        }

        // XAVFSIZLIK MONITORINGI
        function logSecurityEvent(event) {
            const timestamp = new Date().toLocaleString();
            console.log(`[SECURITY] ${timestamp} - ${event}`);
            
            // Haqiqiy tizimda bu serverga yuboriladi
            localStorage.setItem('lastSecurityEvent', JSON.stringify({
                event: event,
                timestamp: timestamp,
                ip: "user_ip_here" // Haqiqiy IP ni olish kerak
            }));
        }

        // TIZIMNI ISHGA TUSHIRISH
        document.addEventListener('DOMContentLoaded', function() {
            addQuantumLog("üåå QUANTUM ULTIMATE TIZIMI ISHGA TUSHDI", "quantum");
            addQuantumLog("üõ°Ô∏è Xavfsizlik tizimi faollashtirildi", "success");
            logSecurityEvent("System initialized");
            
            // Foydalanuvchi harakatini monitoring qilish
            setInterval(() => {
                logSecurityEvent("User activity detected");
            }, 60000); // Har 1 daqiqada
        });

        // KLAVIATURA SHORTCUTLARI
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.shiftKey && e.key === 'K') {
                e.preventDefault();
                requestSecretAccess();
            }
            if (e.key === 'Escape') {
                closePasswordModal();
                closeSecretModal();
            }
        });
    </script>
</body>
</html>
